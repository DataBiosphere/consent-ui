<div ng-include src="'app/header/header.html'"></div>
<div class="container">
    <div class="row no-margin">
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 no-padding title-wrapper">
            <img src="../assets/images/icon_manage_dul.png" alt="Manage DUL icon" class="cm-icons main-icon-title">
            <h2 class="main-title margin-sm dul-color">Manage Data Use Limitations<br>
                <div class="main-title-description">Select and manage Data Use Limitations for DAC review</div>
            </h2>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 search-reviewed no-padding">
            <div class="col-lg-6 col-md-6 col-sm-7 col-xs-7">
                <div class="search-text">
                    <i class="glyphicon glyphicon-search dul-color"></i>
                    <input type="search" class="form-control users-search" placeholder="Enter search term..."
                           ng-model="searchDUL"/>
                </div>
            </div>
            <a class="col-lg-6 col-md-6 col-sm-5 col-xs-5 admin-add-button dul-background no-margin" ng-click="AdminManage.addDul()">
                <div class="all-icons add-dul_white"></div>
                <span>Add Data Use Limitations</span>
            </a>
        </div>
    </div>
    <div class="jumbotron box-vote-singleresults box-vote-no-margin">
        <div class="row manage-wrapper">
            <div class="pvotes-box-head">
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 pvotes-box-subtitle dul-color">Consent id</div>
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-box-subtitle dul-color">Date</div>
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-box-subtitle f-center dul-color">Edit Record</div>
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-box-subtitle f-center dul-color">Election status</div>
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-box-subtitle f-center dul-color">Election actions</div>
            </div>

            <div class="admin-box-body">
                <hr class="pvotes-main-separator">
                <div dir-paginate="election in AdminManage.electionsList.dul | filter: searchDUL | itemsPerPage:10">
                    <div class="row pvotes-main-list">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 pvotes-list-id">{{election.consentName}}</div>
                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-list-id">{{election.createDate | date:'yyyy-MM-dd'}}</div>
                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                            <a href="" class="admin-manage-buttons">
                                <div ng-if="election.electionStatus != 'Open' && election.editable"  class="enabled hover-color" ng-click="AdminManage.editDul(election.consentId)">
                                    <span>Edit</span>
                                </div>
                                <div ng-if="election.electionStatus == 'Open' || !election.editable" class="disabled hover-color">
                                    <span>Edit</span>
                                </div>
                            </a>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 pvotes-list bold">
                            <span ng-if="election.electionStatus == 'un-reviewed'">Un-reviewed</span>
                            <span ng-if="election.electionStatus == 'Open'"><a ui-sref="dul_review_results({consentId: '{{election.consentId}}'})">Open</a></span>
                            <span ng-if="election.electionStatus == 'Canceled'">Canceled</span>
                            <span ng-if="election.electionStatus == 'Closed'"><a ui-sref="dul_results_record({electionId: '{{election.electionId}}'})">Reviewed</a></span>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                            <a class="admin-manage-buttons">
                                <div ng-if="election.electionStatus != 'Open' && election.editable " class=" create hover-color" ng-click="AdminManage.openCreate(election.consentId)">
                                    <span>Create</span>
                                </div>
                                <div ng-if="election.electionStatus != 'Open' && !election.editable" class="disabled  hover-color">
                                    <span>Create</span>
                                </div>
                                <div ng-if="election.electionStatus == 'Open' " class="cancel hover-color" ng-click="AdminManage.openCancel(election)">
                                    <span>Cancel</span>
                                </div>
                            </a>
                        </div>
                        <div class="remove-dul-col">
                            <a ng-click="AdminManage.openDelete(election.consentId)" ng-if="election.electionStatus == 'un-reviewed'">
                                <span class="cm-icon-button glyphicon glyphicon-trash caret-margin" ng-if="election.electionStatus == 'un-reviewed'" aria-hidden="true"></span>
                            </a>
                            <a ng-if="election.electionStatus !== 'un-reviewed'">
                                <span class="cm-icon-button glyphicon glyphicon-trash caret-margin disabled" ng-if="election.electionStatus !== 'un-reviewed'" aria-hidden="true"></span>
                            </a>
                            <hr class="pvotes-separator-longer">
                        </div>
                    </div>
                    <hr class="pvotes-separator">
                </div>
            </div>
            <div dir-pagination-controls
                 max-size="10"
                 direction-links="true"
                 boundary-links="true"
                 class="pvotes-pagination">
            </div>
        </div>
    </div>
</div>
